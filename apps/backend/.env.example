# =============================================================================
# Project Jarvis Backend - Environment Variables
# =============================================================================
# Copy this file to .env and fill in your values

# -----------------------------------------------------------------------------
# Server Configuration
# -----------------------------------------------------------------------------

# Node environment (development, production, test)
NODE_ENV=development

# Port to run the server on (default: 3000)
PORT=3000

# -----------------------------------------------------------------------------
# Database (Postgres with pgvector)
# -----------------------------------------------------------------------------

DATABASE_URL=postgresql://jarvis:jarvis_dev@localhost:5433/jarvis

# -----------------------------------------------------------------------------
# Redis
# -----------------------------------------------------------------------------

REDIS_URL=redis://localhost:6379

# -----------------------------------------------------------------------------
# Authentication (generate with: openssl rand -hex 32)
# -----------------------------------------------------------------------------

JWT_SECRET=your-32-char-minimum-secret-here-change-me
JWT_ACCESS_EXPIRY=15m
JWT_REFRESH_EXPIRY=7d

# -----------------------------------------------------------------------------
# Secrets Encryption (generate with: openssl rand -hex 32)
# -----------------------------------------------------------------------------

SECRETS_MASTER_KEY=your-64-char-hex-encoded-32-byte-key-here

# -----------------------------------------------------------------------------
# LLM Provider API Keys
# -----------------------------------------------------------------------------

# OpenAI API Key (required for GPT models and embeddings)
# Get yours at: https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-...

# Anthropic API Key (required for Claude models)
# Get yours at: https://console.anthropic.com/settings/keys
ANTHROPIC_API_KEY=sk-ant-...

# -----------------------------------------------------------------------------
# Web Search (Optional)
# -----------------------------------------------------------------------------

# Tavily API Key (optional, enables web_search tool)
# Get yours at: https://tavily.com (free tier available)
# If not set, web_search will gracefully fail with a helpful message
TAVILY_API_KEY=tvly-...

# -----------------------------------------------------------------------------
# Logging Configuration
# -----------------------------------------------------------------------------

# Log level: debug, info, warn, error (default: info)
LOG_LEVEL=info

# -----------------------------------------------------------------------------
# OpenTelemetry Tracing (Optional)
# -----------------------------------------------------------------------------

# Enable/disable tracing (default: true)
OTEL_ENABLED=true

# OTLP endpoint for exporting traces
# If not set, traces are printed to console
# For Jaeger: http://localhost:4318
# For Grafana Cloud: https://otlp-gateway-prod-us-central-0.grafana.net/otlp
# OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4318

# Service name for traces (default: project-jarvis-backend)
OTEL_SERVICE_NAME=project-jarvis-backend

# Service version (default: 1.0.0)
OTEL_SERVICE_VERSION=1.0.0

# Enable debug logging for OpenTelemetry (default: false)
OTEL_DEBUG=false

# -----------------------------------------------------------------------------
# Monitoring Agent Configuration
# -----------------------------------------------------------------------------

# Composio Webhook Secret (for signature verification)
# Get this from the Composio dashboard under Project Settings -> Webhook
COMPOSIO_WEBHOOK_SECRET=your-composio-webhook-secret

# Composio Webhook URL (your public endpoint for receiving triggers)
# This should be the publicly accessible URL that Composio will call
COMPOSIO_WEBHOOK_URL=https://your-domain.com/api/v1/webhooks/composio

# Webhook Rate Limit (requests per minute, default: 100)
WEBHOOK_RATE_LIMIT=100

# Monitored Event Retention (days, default: 30)
MONITORED_EVENT_RETENTION_DAYS=30
